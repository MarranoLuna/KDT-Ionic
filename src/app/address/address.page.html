<ion-header>
  <ion-toolbar color="warning">
    <ion-buttons slot="start">

           <ion-back-button defaultHref="/home" text=""></ion-back-button>
    </ion-buttons>
    <ion-title>Mis direcciones</ion-title>
    <ion-back-button defaultHref="/home" text=""></ion-back-button>
</ion-header>


<ion-content color="light">

  <ion-list [inset]="true">
    <ion-item-group>
      <ion-item-divider>
        <ion-label>Agregar Nueva Dirección</ion-label>
      </ion-item-divider>

      <ion-item>
        <ion-input
          #addressInput
          label="Buscar dirección"
          labelPlacement="floating"
          placeholder="Ej: San Martín 500"
          [(ngModel)]="newAddress.address"
          name="address">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-button
          (click)="saveAddress()"
          [disabled]="!newAddress.address || !newAddress.lat"
          expand="block"
          color="warning">
          <ion-icon name="add-circle-outline" slot="start"></ion-icon>
          Guardar Dirección
        </ion-button>
      </ion-item>
    </ion-item-group>
  </ion-list>

  <ion-list [inset]="true">
    <ion-item-group>
      <ion-item-divider>
        <ion-label>Direcciones Guardadas</ion-label>
      </ion-item-divider>
      
      <ion-item *ngIf="isLoading">
        <ion-label class="ion-text-center">Cargando direcciones...</ion-label>
        <ion-spinner name="crescent"></ion-spinner>
      </ion-item>

      <ion-item *ngIf="!isLoading && savedAddresses.length === 0">
        <ion-label>Aún no has guardado ninguna dirección.</ion-label>
      </ion-item>

      <ion-item *ngFor="let addr of savedAddresses">
        <ion-icon name="location-outline" slot="start" color="medium"></ion-icon>
        <ion-label class="ion-text-wrap">{{ addr.address }}</ion-label>
        </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>

 <ion-list [inset]="true">

<ion-item>
    <ion-input type="text" id="autocomplete-input" placeholder="Ingresa tu dirección" autocomplete="off"></ion-input>
  </ion-item>
  
  <div id="map" style="height: 300px; width: 100%;"></div>

    <ion-item>
      <ion-input label="Intersección" [(ngModel)]="address.intersection" label-placement="floating"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input label="Piso" [(ngModel)]="address.floor" label-placement="floating"></ion-input>
    </ion-item>
    <ion-item>
      <ion-input label="Departamento" [(ngModel)]="address.department" label-placement="floating"></ion-input>
    </ion-item>
  </ion-list>

  <ion-button expand="full" (click)="saveUserAddress()">
    Guardar Dirección
  </ion-button>

</ion-content> 

